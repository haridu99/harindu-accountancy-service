<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Harindu Accountancy Service</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
  <style>
    :root {
      --primary-color: #2c3e50;
      --secondary-color: #3498db;
      --accent-color: #e74c3c;
      --light-color: #ecf0f1;
      --dark-color: #2c3e50;
      --text-color: #333;
      --text-light: #7f8c8d;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: var(--text-color);
      line-height: 1.6;
    }
    
    /* Header Styles */
    header {
      background-color: var(--primary-color);
      color: white;
      padding: 1rem 0;
      position: fixed;
      width: 100%;
      top: 0;
      z-index: 1000;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    
    .container {
      width: 90%;
      max-width: 1200px;
      margin: 0 auto;
    }
    
    nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .logo {
      font-size: 1.5rem;
      font-weight: bold;
      color: white;
      text-decoration: none;
    }
    
    .nav-links {
      display: flex;
      list-style: none;
    }
    
    .nav-links li {
      margin-left: 2rem;
    }
    
    .nav-links a {
      color: white;
      text-decoration: none;
      transition: color 0.3s;
    }
    
    .nav-links a:hover {
      color: var(--secondary-color);
    }
    
    /* Hero Section */
    .hero {
      background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('https://images.unsplash.com/photo-1450101499163-c8848c66ca85?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');
      background-size: cover;
      background-position: center;
      height: 100vh;
      display: flex;
      align-items: center;
      text-align: center;
      color: white;
      padding-top: 80px;
    }
    
    .hero-content {
      max-width: 800px;
      margin: 0 auto;
    }
    
    .hero h1 {
      font-size: 3rem;
      margin-bottom: 1rem;
    }
    
    .hero p {
      font-size: 1.2rem;
      margin-bottom: 2rem;
    }
    
    .btn {
      display: inline-block;
      background-color: var(--secondary-color);
      color: white;
      padding: 0.8rem 1.5rem;
      border: none;
      border-radius: 5px;
      text-decoration: none;
      font-weight: bold;
      transition: background-color 0.3s;
      cursor: pointer;
    }
    
    .btn:hover {
      background-color: #2980b9;
    }
    
    .btn-accent {
      background-color: var(--accent-color);
    }
    
    .btn-accent:hover {
      background-color: #c0392b;
    }
    
    /* Services Section */
    .services {
      padding: 5rem 0;
      background-color: var(--light-color);
    }
    
    .section-title {
      text-align: center;
      margin-bottom: 3rem;
    }
    
    .section-title h2 {
      font-size: 2.5rem;
      color: var(--dark-color);
    }
    
    .services-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
    }
    
    .service-card {
      background-color: white;
      padding: 2rem;
      border-radius: 8px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s;
    }
    
    .service-card:hover {
      transform: translateY(-10px);
    }
    
    .service-card i {
      font-size: 2.5rem;
      color: var(--secondary-color);
      margin-bottom: 1rem;
    }
    
    .service-card h3 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
    }
    
    /* Features Section */
    .features {
      padding: 5rem 0;
      background-color: white;
    }
    
    .features-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 3rem;
      align-items: center;
    }
    
    .features-image img {
      width: 100%;
      border-radius: 8px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    
    .features-list {
      list-style: none;
    }
    
    .features-list li {
      margin-bottom: 1.5rem;
      display: flex;
      align-items: flex-start;
    }
    
    .features-list i {
      color: var(--secondary-color);
      font-size: 1.5rem;
      margin-right: 1rem;
      margin-top: 0.3rem;
    }
    
    /* Testimonials Section */
    .testimonials {
      padding: 5rem 0;
      background-color: var(--light-color);
    }
    
    .testimonials-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
    }
    
    .testimonial-card {
      background-color: white;
      padding: 2rem;
      border-radius: 8px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    
    .testimonial-card .rating {
      color: gold;
      margin-bottom: 1rem;
    }
    
    .testimonial-card .client-name {
      font-weight: bold;
      margin-top: 1rem;
    }
    
    /* Contact Section */
    .contact {
      padding: 5rem 0;
      background-color: white;
    }
    
    .contact-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 3rem;
    }
    
    .contact-info h3 {
      font-size: 1.5rem;
      margin-bottom: 1.5rem;
    }
    
    .contact-info p {
      margin-bottom: 1rem;
    }
    
    .contact-info i {
      color: var(--secondary-color);
      margin-right: 0.5rem;
    }
    
    .contact-form input,
    .contact-form textarea {
      width: 100%;
      padding: 1rem;
      margin-bottom: 1rem;
      border: 1px solid #ddd;
      border-radius: 5px;
    }
    
    .contact-form textarea {
      height: 150px;
    }
    
    /* Footer */
    footer {
      background-color: var(--dark-color);
      color: white;
      padding: 3rem 0 1rem;
    }
    
    .footer-content {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 2rem;
      margin-bottom: 2rem;
    }
    
    .footer-column h3 {
      margin-bottom: 1.5rem;
      font-size: 1.2rem;
    }
    
    .footer-column ul {
      list-style: none;
    }
    
    .footer-column ul li {
      margin-bottom: 0.5rem;
    }
    
    .footer-column a {
      color: var(--light-color);
      text-decoration: none;
      transition: color 0.3s;
    }
    
    .footer-column a:hover {
      color: var(--secondary-color);
    }
    
    .social-links {
      display: flex;
      gap: 1rem;
    }
    
    .social-links a {
      color: white;
      font-size: 1.5rem;
    }
    
    .copyright {
      text-align: center;
      padding-top: 2rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      z-index: 2000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
    }
    
    .modal-content {
      background-color: white;
      margin: 10% auto;
      padding: 2rem;
      border-radius: 8px;
      width: 90%;
      max-width: 500px;
      position: relative;
      max-height: 80vh;
      overflow-y: auto;
    }
    
    .close {
      position: absolute;
      top: 1rem;
      right: 1rem;
      font-size: 1.5rem;
      cursor: pointer;
      color: var(--text-light);
    }
    
    .modal h2 {
      margin-bottom: 1.5rem;
      color: var(--primary-color);
    }
    
    .form-group {
      margin-bottom: 1.5rem;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: bold;
    }
    
    .form-group input,
    .form-group textarea,
    .form-group select {
      width: 100%;
      padding: 0.8rem;
      border: 1px solid #ddd;
      border-radius: 5px;
    }
    
    /* Time slots styles */
    .time-slots {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin: 1rem 0;
      max-height: 200px;
      overflow-y: auto;
    }
    
    .time-slot {
      padding: 10px;
      background-color: #f5f5f5;
      border: 1px solid #ddd;
      border-radius: 5px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .time-slot:hover {
      background-color: #e9e9e9;
    }
    
    .time-slot.selected {
      background-color: var(--secondary-color);
      color: white;
      border-color: var(--secondary-color);
    }
    
    .time-slot.booked {
      background-color: #ffcccc;
      color: #666;
      cursor: not-allowed;
      text-decoration: line-through;
    }
    
    /* Confirmation message */
    .confirmation-message {
      display: none;
      padding: 20px;
      text-align: center;
      background-color: #e8f5e9;
      border-radius: 5px;
      margin: 20px 0;
    }
    
    .confirmation-message h3 {
      color: #2e7d32;
      margin-bottom: 10px;
    }
    
    .confirmation-details {
      text-align: left;
      margin: 15px 0;
      padding: 15px;
      background-color: white;
      border-radius: 5px;
    }
    
    /* Chatbot styles */
    .chatbot-container {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 350px;
      z-index: 1000;
    }
    
    .chatbot-toggle {
      background-color: var(--secondary-color);
      color: white;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      margin-left: auto;
    }
    
    .chatbot-window {
      background-color: white;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      display: none;
      height: 400px;
      flex-direction: column;
    }
    
    .chatbot-header {
      background-color: var(--primary-color);
      color: white;
      padding: 15px;
      border-top-left-radius: 10px;
      border-top-right-radius: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .chatbot-messages {
      flex: 1;
      padding: 15px;
      overflow-y: auto;
    }
    
    .chatbot-input {
      display: flex;
      padding: 10px;
      border-top: 1px solid #ddd;
    }
    
    .chatbot-input input {
      flex: 1;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
      margin-right: 10px;
    }
    
    .chatbot-input button {
      background-color: var(--secondary-color);
      color: white;
      border: none;
      border-radius: 5px;
      padding: 0 15px;
      cursor: pointer;
    }
    
    .message {
      margin-bottom: 15px;
      max-width: 80%;
    }
    
    .bot-message {
      background-color: #f0f0f0;
      padding: 10px;
      border-radius: 10px 10px 10px 0;
      align-self: flex-start;
    }
    
    .user-message {
      background-color: var(--secondary-color);
      color: white;
      padding: 10px;
      border-radius: 10px 10px 0 10px;
      align-self: flex-end;
      margin-left: auto;
    }
    
    /* Responsive Styles */
    @media (max-width: 768px) {
      .features-content,
      .contact-container {
        grid-template-columns: 1fr;
      }
      
      .hero h1 {
        font-size: 2.5rem;
      }
      
      .time-slots {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .nav-links {
        display: none;
      }
      
      .chatbot-container {
        width: 300px;
      }
    }
    
    @media (max-width: 480px) {
      .time-slots {
        grid-template-columns: 1fr;
      }
      
      .chatbot-container {
        width: 280px;
        right: 10px;
        bottom: 10px;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="container">
      <nav>
        <a href="#" class="logo">Harindu Accountancy Service</a>
        <ul class="nav-links">
          <li><a href="#about">About Us</a></li>
          <li><a href="#services">Services</a></li>
          <li><a href="#features">Features</a></li>
          <li><a href="#testimonials">Testimonials</a></li>
          <li><a href="#contact">Contact</a></li>
          <li><a href="#" id="bookAppointmentBtnNav">Book Appointment</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-content">
      <h1>Transform Your Financial Management</h1>
      <p>Experience the trusted service of Harindu Accountancy where we offer expert income tax consulting, bookkeeping and auditing to simplify your financial life with our personalized appointment system.</p>
      <button class="btn btn-accent" id="bookAppointmentBtn">Book Your Appointment Now</button>
    </div>
  </section>

  <!-- Services Section -->
  <section id="services" class="services">
    <div class="container">
      <div class="section-title">
        <h2>Our Services</h2>
      </div>
      <div class="services-grid">
        <div class="service-card">
          <i class="fas fa-file-invoice-dollar"></i>
          <h3>Income Tax Consulting</h3>
          <p>Expert advice to optimize your tax situation and ensure compliance with all regulations.</p>
        </div>
        <div class="service-card">
          <i class="fas fa-book"></i>
          <h3>Bookkeeping</h3>
          <p>Accurate and timely recording of financial transactions to keep your business organized.</p>
        </div>
        <div class="service-card">
          <i class="fas fa-search-dollar"></i>
          <h3>Auditing</h3>
          <p>Thorough examination of your financial records to ensure accuracy and compliance.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section id="features" class="features">
    <div class="container">
      <div class="section-title">
        <h2>Why Choose Us</h2>
      </div>
      <div class="features-content">
        <div class="features-text">
          <h3>Elevate Your Financial Management</h3>
          <p>Transform your accounting experience with Harindu Accountancy Service, your trusted local partner for expert income tax consulting, bookkeeping, and auditing. Enjoy peace of mind knowing your financial affairs are in capable hands.</p>
          <ul class="features-list">
            <li>
              <i class="fas fa-calendar-check"></i>
              <div>
                <h4>Personalized Appointment Scheduling</h4>
                <p>Select consultation times that fit your busy schedule with our easy-to-use system.</p>
              </div>
            </li>
            <li>
              <i class="fas fa-robot"></i>
              <div>
                <h4>AI-powered Chatbot</h4>
                <p>Get immediate assistance from our advanced chatbot for all your inquiries.</p>
              </div>
            </li>
            <li>
              <i class="fas fa-file-upload"></i>
              <div>
                <h4>Document Recognition</h4>
                <p>Simplify data entry with our automated document processing technology.</p>
              </div>
            </li>
          </ul>
        </div>
        <div class="features-image">
          <img src="https://images.unsplash.com/photo-1554224155-6726b3ff858f?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Financial management">
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials Section -->
  <section id="testimonials" class="testimonials">
    <div class="container">
      <div class="section-title">
        <h2>Our Satisfied Clients</h2>
        <p>Hear from those who trusted us in their financial journey</p>
      </div>
      <div class="testimonials-grid">
        <div class="testimonial-card">
          <div class="rating">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
          </div>
          <p>"The services from Harindu Accounting Service exceeded my expectations. Their income tax consultation was insightful and tailored to my needs!"</p>
          <div class="client-name">Kansas Siva</div>
        </div>
        <div class="testimonial-card">
          <div class="rating">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
          </div>
          <p>"Harindu Accounting Service transformed my financial management experience. Their advanced appointment scheduling made everything easy!"</p>
          <div class="client-name">Arial Malmud</div>
        </div>
        <div class="testimonial-card">
          <div class="rating">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
          </div>
          <p>"The chatbot was incredibly helpful and answered all my questions promptly. This service saved me so much time!"</p>
          <div class="client-name">Sarah Johnson</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contact" class="contact">
    <div class="container">
      <div class="section-title">
        <h2>Get In Touch</h2>
        <p>We Anticipate Your Inquiry</p>
      </div>
      <div class="contact-container">
        <div class="contact-info">
          <h3>Our Office</h3>
          <p><i class="fas fa-map-marker-alt"></i> 96 Y/T, Bundesmayeriee Meweiha, Rafimupura</p>
          <p><i class="fas fa-envelope"></i> hurinduchathuemgui124@gmail.com</p>
          <p><i class="fas fa-phone"></i> +84722255697, +84703355886</p>
        </div>
        <div class="contact-form">
          <form id="inquiryForm">
            <div class="form-group">
              <input type="text" id="firstName" placeholder="First Name" required>
            </div>
            <div class="form-group">
              <input type="text" id="lastName" placeholder="Last Name" required>
            </div>
            <div class="form-group">
              <input type="email" id="email" placeholder="Your Email" required>
            </div>
            <div class="form-group">
              <input type="tel" id="phone" placeholder="Your Phone">
            </div>
            <div class="form-group">
              <textarea id="message" placeholder="Your Message" required></textarea>
            </div>
            <button type="submit" class="btn">Send Message</button>
          </form>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-column">
          <h3>Harindu Accountancy Service</h3>
          <p>Experience professional accountancy services tailored for your financial needs. We support expert income tax consulting, bookkeeping, and auditing services.</p>
        </div>
        <div class="footer-column">
          <h3>Quick Links</h3>
          <ul>
            <li><a href="#about">About Us</a></li>
            <li><a href="#services">Services</a></li>
            <li><a href="#features">Features</a></li>
            <li><a href="#testimonials">Testimonials</a></li>
            <li><a href="#contact">Contact</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h3>Contact Info</h3>
          <ul>
            <li><i class="fas fa-map-marker-alt"></i> 96 Y/T, Bundesmayeriee Meweiha, Rafimupura</li>
            <li><i class="fas fa-envelope"></i> hurinduchathuemgui124@gmail.com</li>
            <li><i class="fas fa-phone"></i> +84722255697, +84703355886</li>
          </ul>
        </div>
        <div class="footer-column">
          <h3>Follow Us</h3>
          <div class="social-links">
            <a href="#"><i class="fab fa-facebook"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-linkedin"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
          </div>
        </div>
      </div>
      <div class="copyright">
        <p>&copy; 2025 Harindu Accountancy Service, All Rights Reserved</p>
      </div>
    </div>
  </footer>

  <!-- Appointment Modal -->
  <div id="appointmentModal" class="modal">
    <div class="modal-content">
      <span class="close" id="closeAppointment">&times;</span>
      <div id="appointmentFormContainer">
        <h2>Book Your Appointment</h2>
        <form id="appointmentForm">
          <div class="form-group">
            <label for="appointmentName">Full Name</label>
            <input type="text" id="appointmentName" required>
          </div>
          <div class="form-group">
            <label for="appointmentEmail">Email</label>
            <input type="email" id="appointmentEmail" required>
          </div>
          <div class="form-group">
            <label for="appointmentPhone">Phone</label>
            <input type="tel" id="appointmentPhone">
          </div>
          <div class="form-group">
            <label for="appointmentDate">Preferred Date</label>
            <input type="date" id="appointmentDate" required min="">
          </div>
          <div class="form-group">
            <label>Preferred Time of Day:</label>
            <select id="timePreference" class="form-control">
              <option value="any">Any Time</option>
              <option value="morning">Morning (9AM-12PM)</option>
              <option value="afternoon">Afternoon (12PM-4PM)</option>
            </select>
          </div>
          <div class="form-group">
            <label>
              <input type="checkbox" id="urgentBooking"> Urgent Request (Need ASAP)
            </label>
          </div>
          <div class="form-group">
            <label>Available Time Slots</label>
            <div class="time-slots" id="timeSlots">
              <p style="padding: 20px; text-align: center;">Please select a date to see available time slots</p>
            </div>
          </div>
          <div class="form-group">
            <label for="appointmentService">Service Needed</label>
            <select id="appointmentService" required>
              <option value="">Select a service</option>
              <option value="tax">Income Tax Consulting</option>
              <option value="bookkeeping">Bookkeeping</option>
              <option value="auditing">Auditing</option>
              <option value="other">Other</option>
            </select>
          </div>
          <div class="form-group">
            <label>
              <input type="checkbox" id="smsNotification" checked> Receive SMS notification
            </label>
          </div>
          <button type="submit" class="btn" style="margin-top: 20px;">Confirm Appointment</button>
        </form>
      </div>
      <div id="confirmationMessage" class="confirmation-message">
        <h3>Appointment Booked Successfully!</h3>
        <div class="confirmation-details" id="confirmationDetails"></div>
        <button class="btn" id="returnHome">Return to Home</button>
      </div>
    </div>
  </div>

  <!-- Inquiry Modal -->
  <div id="inquiryModal" class="modal">
    <div class="modal-content">
      <span class="close" id="closeInquiry">&times;</span>
      <h2>Submit Your Inquiry</h2>
      <form id="inquiryFormModal">
        <div class="form-group">
          <label for="inquiryName">Full Name</label>
          <input type="text" id="inquiryName" required>
        </div>
        <div class="form-group">
          <label for="inquiryEmail">Email</label>
          <input type="email" id="inquiryEmail" required>
        </div>
        <div class="form-group">
          <label for="inquiryMessage">Your Message</label>
          <textarea id="inquiryMessage" required></textarea>
        </div>
        <button type="submit" class="btn">Send Inquiry</button>
      </form>
    </div>
  </div>

  <!-- AI Chatbot -->
  <div class="chatbot-container">
    <div class="chatbot-toggle" id="chatbotToggle">
      <i class="fas fa-robot"></i>
    </div>
    <div class="chatbot-window" id="chatbotWindow">
      <div class="chatbot-header">
        <h3>Accountancy Assistant</h3>
        <button class="close" id="closeChatbot">&times;</button>
      </div>
      <div class="chatbot-messages" id="chatbotMessages">
        <div class="message bot-message">
          Hello! I'm your accountancy assistant. How can I help you today?
        </div>
      </div>
      <div class="chatbot-input">
        <input type="text" id="chatbotInput" placeholder="Type your question...">
        <button id="sendMessage"><i class="fas fa-paper-plane"></i></button>
      </div>
    </div>
  </div>

  <script>
    // Initialize EmailJS
    emailjs.init("n6K9LBhUPgP6X1piC"); // Replace with your EmailJS user ID
    
    // Business hours configuration
    const businessHours = {
      start: 9, // 9 AM
      end: 18,  // 6 PM
      slotDuration: 30 // minutes
    };

    // Store booked appointments
    let bookedAppointments = JSON.parse(localStorage.getItem('bookedAppointments')) || [];
    
    // Set minimum date for date picker (today)
    document.addEventListener('DOMContentLoaded', function() {
      const today = new Date().toISOString().split('T')[0];
      document.getElementById('appointmentDate').min = today;
    });

    // Modal functionality
    const appointmentModal = document.getElementById('appointmentModal');
    const closeAppointment = document.getElementById('closeAppointment');
    const returnHome = document.getElementById('returnHome');
    
    document.getElementById('bookAppointmentBtn').onclick = function() {
      appointmentModal.style.display = 'block';
    };
    
    document.getElementById('bookAppointmentBtnNav').onclick = function(e) {
      e.preventDefault();
      appointmentModal.style.display = 'block';
    };
    
    document.getElementById('inquiryBtn')?.onclick = function() {
      document.getElementById('inquiryModal').style.display = 'block';
    };
    
    closeAppointment.onclick = function() {
      appointmentModal.style.display = 'none';
    };
    
    document.getElementById('closeInquiry').onclick = function() {
      document.getElementById('inquiryModal').style.display = 'none';
    };
    
    returnHome.onclick = function() {
      document.getElementById('confirmationMessage').style.display = 'none';
      document.getElementById('appointmentFormContainer').style.display = 'block';
      document.getElementById('appointmentForm').reset();
      appointmentModal.style.display = 'none';
    };
    
    // Close modal when clicking outside
    window.onclick = function(event) {
      if (event.target.className === 'modal') {
        event.target.style.display = 'none';
      }
    };
    
    // Generate time slots when date is selected
    document.getElementById('appointmentDate').addEventListener('change', function() {
      const date = this.value;
      const isUrgent = document.getElementById('urgentBooking').checked;
      const timePreference = document.getElementById('timePreference').value;
      
      // Generate suggested times based on preferences
      const suggestedTimes = suggestTimes(date, isUrgent, timePreference);
      showSuggestedTimes(suggestedTimes, date);
    });

    function suggestTimes(date, isUrgent, timePreference) {
      // Logic to pick best times (customize as needed)
      if (isUrgent) {
        return ["09:00", "09:30", "10:00"]; // Early slots for urgent
      } else if (timePreference === "morning") {
        return ["09:00", "10:00", "11:00"];
      } else if (timePreference === "afternoon") {
        return ["14:00", "15:00", "16:00"];
      } else {
        return ["10:00", "11:00", "14:00", "15:00"];
      }
    }

    function showSuggestedTimes(times, date) {
      const container = document.getElementById('timeSlots');
      container.innerHTML = `
        <div class="suggested-times">
          <h4>‚≠ê Recommended for you:</h4>
          ${times.map(time => `
            <div class="time-slot suggested" data-time="${time}" data-slot-id="${date}_${time}">
              ${time}
            </div>
          `).join('')}
          <h4>All Available Slots:</h4>
          ${generateAllTimeSlots(date)}
        </div>
      `;
      
      // Add click handlers to all time slots
      document.querySelectorAll('.time-slot').forEach(slot => {
        slot.addEventListener('click', function() {
          document.querySelectorAll('.time-slot').forEach(s => s.classList.remove('selected'));
          this.classList.add('selected');
        });
      });
    }
    
    function generateAllTimeSlots(date) {
      let slotsHTML = '';
      for (let hour = businessHours.start; hour < businessHours.end; hour++) {
        for (let minute = 0; minute < 60; minute += businessHours.slotDuration) {
          const timeString = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;
          const slotId = `${date}_${timeString}`;
          
          // Check if this slot is already booked
          const isBooked = bookedAppointments.some(app => app.slotId === slotId);
          
          if (!isBooked) {
            slotsHTML += `
              <div class="time-slot" data-time="${timeString}" data-slot-id="${slotId}">
                ${timeString}
              </div>
            `;
          }
        }
      }
      return slotsHTML;
    }

    // Appointment form submission
    document.getElementById('appointmentForm').onsubmit = function(e) {
      e.preventDefault();
      
      const name = document.getElementById('appointmentName').value;
      const email = document.getElementById('appointmentEmail').value;
      const phone = document.getElementById('appointmentPhone').value;
      const date = document.getElementById('appointmentDate').value;
      const selectedTimeSlot = document.querySelector('.time-slot.selected');
      
      if (!selectedTimeSlot) {
        alert('Please select a time slot');
        return;
      }
      
      const time = selectedTimeSlot.dataset.time;
      const service = document.getElementById('appointmentService').value;
      const smsNotification = document.getElementById('smsNotification').checked;
      
      const slotId = `${date}_${time}`;
      
      // Create appointment object
      const appointment = {
        id: Date.now(),
        name,
        email,
        phone,
        date,
        time,
        service,
        slotId,
        bookedAt: new Date().toISOString(),
        smsNotification
      };
      
      // Add to booked appointments
      bookedAppointments.push(appointment);
      localStorage.setItem('bookedAppointments', JSON.stringify(bookedAppointments));
      
      // Show confirmation
      showConfirmation(appointment);
      
      // In a real app, you would send this to your server/EmailJS here
      console.log('Appointment booked:', appointment);
    };
    
    function showConfirmation(appointment) {
      // Hide form, show confirmation
      document.getElementById('appointmentFormContainer').style.display = 'none';
      document.getElementById('confirmationMessage').style.display = 'block';
      
      // Display appointment details
      const details = document.getElementById('confirmationDetails');
      details.innerHTML = `
        <p><strong>Name:</strong> ${appointment.name}</p>
        <p><strong>Date:</strong> ${formatDate(appointment.date)}</p>
        <p><strong>Time:</strong> ${appointment.time}</p>
        <p><strong>Service:</strong> ${getServiceName(appointment.service)}</p>
        <p><strong>Reference #:</strong> ${appointment.id}</p>
        ${appointment.smsNotification ? '<p><i class="fas fa-check-circle"></i> SMS notification will be sent</p>' : ''}
      `;
    }
    
    function formatDate(dateString) {
      const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
      return new Date(dateString).toLocaleDateString('en-US', options);
    }
    
    function getServiceName(serviceKey) {
      const services = {
        'tax': 'Income Tax Consulting',
        'bookkeeping': 'Bookkeeping',
        'auditing': 'Auditing',
        'other': 'Other Service'
      };
      return services[serviceKey] || serviceKey;
    }

    // Chatbot functionality
    const chatbotToggle = document.getElementById('chatbotToggle');
    const chatbotWindow = document.getElementById('chatbotWindow');
    const closeChatbot = document.getElementById('closeChatbot');
    const chatbotMessages = document.getElementById('chatbotMessages');
    const chatbotInput = document.getElementById('chatbotInput');
    const sendMessage = document.getElementById('sendMessage');
    
    // Simple FAQ responses
    const faqResponses = {
      "hello": "Hello! How can I assist you with your accountancy needs today?",
      "hi": "Hi there! What can I help you with?",
      "services": "We offer: 1. Income Tax Consulting 2. Bookkeeping 3. Auditing Services",
      "hours": "Our office hours are Monday to Friday, 9AM to 6PM",
      "appointment": "You can book an appointment using the 'Book Appointment' button on our website",
      "contact": "You can reach us at +84722255697 or hurinduchathuemgui124@gmail.com",
      "thanks": "You're welcome! Is there anything else I can help with?",
      "thank you": "You're welcome! Let me know if you have other questions.",
      "default": "I'm sorry, I didn't understand that. Could you try asking about our services, hours, or how to book an appointment?"
    };
    
    chatbotToggle.addEventListener('click', function() {
      chatbotWindow.style.display = chatbotWindow.style.display === 'flex' ? 'none' : 'flex';
    });
    
    closeChatbot.addEventListener('click', function() {
      chatbotWindow.style.display = 'none';
    });
    
    function addBotMessage(message) {
      const messageElement = document.createElement('div');
      messageElement.className = 'message bot-message';
      messageElement.textContent = message;
      chatbotMessages.appendChild(messageElement);
      chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
    }
    
    function addUserMessage(message) {
      const messageElement = document.createElement('div');
      messageElement.className = 'message user-message';
      messageElement.textContent = message;
      chatbotMessages.appendChild(messageElement);
      chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
    }
    
    function processUserInput() {
      const userMessage = chatbotInput.value.trim().toLowerCase();
      if (!userMessage) return;
      
      addUserMessage(userMessage);
      chatbotInput.value = '';
      
      // Simple response logic - in a real app you'd use an AI service
      setTimeout(() => {
        let response = faqResponses.default;
        
        // Check if any keyword matches
        for (const [keyword, reply] of Object.entries(faqResponses)) {
          if (userMessage.includes(keyword)) {
            response = reply;
            break;
          }
        }
        
        addBotMessage(response);
      }, 500);
    }
    
    sendMessage.addEventListener('click', processUserInput);
    
    chatbotInput.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        processUserInput();
      }
    });

    // Main contact form submission
    document.getElementById('inquiryForm').onsubmit = function(e) {
      e.preventDefault();
      const firstName = document.getElementById('firstName').value;
      const lastName = document.getElementById('lastName').value;
      const email = document.getElementById('email').value;
      const phone = document.getElementById('phone').value;
      const message = document.getElementById('message').value;
      
      emailjs.send("service_502lusl", "YOUR_TEMPLATE_ID", {
        firstName: firstName,
        lastName: lastName,
        email: email,
        phone: phone,
        message: message,
        to_email: "harinduchathuranga1234@gmail.com"
      }).then(() => {
        alert('Message sent successfully! We will get back to you soon.');
        document.getElementById('inquiryForm').reset();
      }).catch((error) => {
        console.error("Error sending email:", error);
        alert("There was an error sending your message. Please try again.");
      });
    };
  </script>
</body>
</html>
